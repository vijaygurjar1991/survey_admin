<div ngClass="survey">
    <div [ngClass]="{'add-ques-sidebar': true, 'toggle-sidebar': toggleClass}">

        <div>
            <div class="infocircle mb-2">
                <h6 class="mb-0">Add Question</h6>
                <!-- create-survey.component.html -->
                <div class="custom-tooltip">
                    <ng-icon name="heroInformationCircle" ngClass="edit-action info-circle"
                        (click)="toggleTooltip('1')"></ng-icon>
                    <div class="toast show" *ngIf="showTooltip['1']">
                        <div class="toast-header">
                            <img [src]="baseUrl + '/assets/images/icons/Add-new-question.png'" class="rounded me-2"
                                width="30" height="30" />
                            <h6 class="mb-0 me-auto">Add Question</h6>
                            <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"
                                (click)="hideTooltip('1')"></button>
                        </div>
                        <div class="toast-body">
                            By indicating the type of question that you would like to include in this survey, you are
                            taking the first step towards gaining valuable insights into your audience's thoughts and
                            opinions. Please take a moment to specify the type of question and unlock the full potential
                            of your survey.
                        </div>
                    </div>
                </div>

            </div>

            <div class="common-ques">
                <a href="javascript:void(0);" (click)="openLg(content)">
                    <figure><img [src]="baseUrl + '/assets/images/icons/Add-new-question.png'" width="30" height="30" />
                    </figure>
                    <figcaption>Add New Question
                    </figcaption>
                </a>
            </div>
        </div>
        <div ngClass="generic-ques">
            <div class="infocircle mb-2">
                <h6 class="mb-0">Add Generic Question</h6>
                <!-- <ng-icon name="heroInformationCircle" ngClass="edit-action info-circle"
                    matTooltip="Add Generic Question" matTooltipPosition="above" title="Action Information"></ng-icon> -->
                <div class="custom-tooltip">
                    <ng-icon name="heroInformationCircle" ngClass="edit-action info-circle"
                        (click)="toggleTooltip('2')"></ng-icon>
                    <div class="toast show" *ngIf="showTooltip['2']">
                        <div class="toast-header">
                            <img [src]="baseUrl + '/assets/images/icons/Add-new-question.png'" class="rounded me-2"
                                width="30" height="30" />
                            <h6 class="mb-0 me-auto">Add Generic Question</h6>
                            <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"
                                (click)="hideTooltip('2')"></button>
                        </div>
                        <div class="toast-body">
                            Empower yourself with this feature that provides a comprehensive collection of the most
                            frequent survey questions used throughout the market research industry. Enjoy the
                            convenience of having them all in one place and customize them to optimize your experience.
                        </div>
                    </div>
                </div>
            </div>

            <div class="common-ques">
                <a href="javascript:void(0);" (click)="openGenric(genricQuestion)">
                    <figure><img [src]="baseUrl + '/assets/images/icons/Add-new-question.png'" width="30" height="30" />
                    </figure>
                    <figcaption>Add New Generic Question</figcaption>
                </a>
            </div>

            <!-- <ul>
                <li *ngFor="let item of names">
                    <a href="javascript:" (click)="onGenericQuestionClick(item.name)">
                        <figure>
                            <img src="../../../assets/{{item.image}}" width="35" height="35" />
                        </figure>
                        <figcaption>{{ item.name }}</figcaption>
                    </a>
                </li>
            </ul> -->
        </div>
        <div ngClass="my-3">
            <div class="infocircle mb-2">
                <h6 class="mb-0">Add Screen</h6>
                <div class="custom-tooltip">
                    <ng-icon name="heroInformationCircle" ngClass="edit-action info-circle"
                        (click)="toggleTooltip('3')"></ng-icon>
                    <div class="toast show" *ngIf="showTooltip['3']">
                        <div class="toast-header">
                            <img [src]="baseUrl + '/assets/images/icons/Add-new-question.png'" class="rounded me-2"
                                width="30" height="30" />
                            <h6 class="mb-0 me-auto">Add Screen</h6>
                            <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"
                                (click)="hideTooltip('3')"></button>
                        </div>
                        <div class="toast-body">
                            Make your survey more engaging by adding live links, media, and video content that your
                            respondents can easily access. By including these elements, you will enhance the overall
                            experience and encourage more participation. So, make sure to take advantage of these
                            powerful tools and use them to create a survey that is both informative and exciting for
                            your audience.
                        </div>
                    </div>
                </div>
            </div>

            <div class="common-ques">
                <a routerLink="javascript:" (click)="openAddScreen(AddScreen)" [class.active]='isActivescreen'>
                    <figure><img [src]="baseUrl + '/assets/images/icons/Add-new-screen.png'" width="30" height="30" />
                    </figure>
                    <figcaption>Add New Screen</figcaption>
                </a>
            </div>
        </div>
        <div ngClass="my-3">
            <div class="infocircle mb-2">
                <h6 class="mb-0">Add Logic</h6>
                <div class="custom-tooltip">
                    <ng-icon name="heroInformationCircle" ngClass="edit-action info-circle"
                        (click)="toggleTooltip('4')"></ng-icon>
                    <div class="toast show" *ngIf="showTooltip['4']">
                        <div class="toast-header">
                            <img [src]="baseUrl + '/assets/images/icons/Add-new-question.png'" class="rounded me-2"
                                width="30" height="30" />
                            <h6 class="mb-0 me-auto">Add Logic (Randomization, Autocode)</h6>
                            <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"
                                (click)="hideTooltip('4')"></button>
                        </div>
                        <div class="toast-body">
                            It is important to use different logical validations to organize your survey. This includes
                            randomization to constantly move question positioning and autocoding to link two surveys
                            with each other.
                        </div>
                    </div>
                </div>
            </div>

            <div class="common-ques">
                <a routerLink="javascript:" (click)="toggleDivVisibility();getRandomization()"
                    [class.active]='isActive || isDivVisible'>
                    <figure><img [src]="baseUrl + '/assets/images/icons/Add-new-logic.png'" width="30" height="30" />
                    </figure>
                    <figcaption>Add New Logic</figcaption>
                </a>
            </div>
        </div>
        <div ngClass="my-3">
            <div class="infocircle mb-2">
                <h6 class="mb-0">Add SEC/LSM</h6>
                <div class="custom-tooltip">
                    <ng-icon name="heroInformationCircle" ngClass="edit-action info-circle"
                        (click)="toggleTooltip('5')"></ng-icon>
                    <div class="toast show" *ngIf="showTooltip['5']">
                        <div class="toast-header">
                            <img [src]="baseUrl + '/assets/images/icons/Add-new-question.png'" class="rounded me-2"
                                width="30" height="30" />
                            <h6 class="mb-0 me-auto">Add SEC/LSM</h6>
                            <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"
                                (click)="hideTooltip('5')"></button>
                        </div>
                        <div class="toast-body">
                            Socio-economic classification helps evaluate survey respondents. By analyzing their status,
                            we can understand their classification better. Use this tool to gather insights and make
                            data-driven decisions.
                        </div>
                    </div>
                </div>
            </div>
            <div class="common-ques">
                <a routerLink="javascript:" (click)="onGenericQuestionClick('SECLSM')">
                    <figure><img [src]="baseUrl + '/assets/images/icons/Add-new-logic.png'" width="30" height="30" />
                    </figure>
                    <figcaption>Add New SEC/LSM</figcaption>
                </a>
            </div>
        </div>
        <hr />
        <div ngClass="my-3">
            <div class="infocircle mb-2">
                <h6 class="mb-0">Add Quota Management</h6>
                <div class="custom-tooltip">
                    <ng-icon name="heroInformationCircle" ngClass="edit-action info-circle"
                        (click)="toggleTooltip('6')"></ng-icon>
                    <div class="toast show" *ngIf="showTooltip['6']">
                        <div class="toast-header">
                            <img [src]="baseUrl + '/assets/images/icons/Add-new-question.png'" class="rounded me-2"
                                width="30" height="30" />
                            <h6 class="mb-0 me-auto">Add Quota Management</h6>
                            <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"
                                (click)="hideTooltip('6')"></button>
                        </div>
                        <div class="toast-body">
                            Dummy Text
                        </div>
                    </div>
                </div>
            </div>
            <div class="common-ques">
                <a [routerLink]="['/survey/quota-management/manage-survey/', (surveyId | encrypt)]"
                    [state]="{ surveyData: { surveyName: surveyName, countryName: countryName, countryImage: countryImage, status: status, categoryName: categoryName, otherCategoryName: otherCategoryName, surveyId: surveyId } }">
                    <figure><img [src]="baseUrl + '/assets/images/icons/Add-new-logic.png'" width="30" height="30" />
                    </figure>
                    <figcaption>Add New Quota Management</figcaption>
                </a>
            </div>
        </div>
        <div class="updated-preview">
            <div class="preview">

                <!-- <a [href]="'http://localhost:4201/survey/preview/'  + centername +  '/' + centerId + '/' + surveyId + '?UID='+ userId +'&id='+ token"
                    target="_blank" rel="noopener noreferrer" class="btn btn-primary w-100">Preview</a> -->
                <a [href]="'https://mobile.angular.opinionest.com/survey/preview/'  + centername +  '/' + centerId + '/' + surveyId + '?UID='+ userId +'&id='+ token"
                    target="_blank" rel="noopener noreferrer" class="btn btn-primary w-100">Preview</a>

            </div>
            <div class="last-updated text-center">
                <p class="mt-2">Survey Created on <span>{{surveycreateddate | date: 'medium'}}</span></p>
            </div>
        </div>
        <div class="d-flex justify-content-center mt-5">
            <span (click)="toggle()" class="heroChevronLeft"><ng-icon name="heroChevronLeft"></ng-icon></span>
            <span (click)="toggle()" class="heroChevronRight"><ng-icon name="heroChevronRight"></ng-icon></span>
        </div>
    </div>
    <div ngClass="survey-question">
        <div>
            <div *ngIf="surveyStatus=='ACT'" class="alert alert-danger py-2 px-3" role="alert">
                You cannot edit this survey as it is currently active.
            </div>
            <div *ngIf="surveyStatus=='HOL'" class="alert alert-warning py-2 px-3" role="alert">
                <!-- A simple warning alert—check it out! -->
                You cannot edit this survey as it is currently hold.
            </div>
        </div>
        <div ngClass="survey-name">
            <div>
                <!-- <h4 ngClass="mb-3">
                    <img matTooltip={{countryName}}
                        aria-label="Button that displays a tooltip when focused or hovered over" loading="lazy"
                        [src]="baseUrl + '/assets/images/country-flag/' + countryImage" width="30" height="30"
                        alt={{countryName}} />
                    {{surveyName}}
                </h4> -->
                <div class="d-flex">
                    <h4 ngClass="mb-3">
                        <ng-container *ngIf="countryName !== 'Other Country'">
                            <img matTooltip="{{countryName}}"
                                aria-label="Button that displays a tooltip when focused or hovered over" loading="lazy"
                                [src]="baseUrl + '/assets/images/country-flag/' + countryImage" width="30" height="30"
                                alt="{{countryName}}" />
                        </ng-container>
                        {{surveyName}}
                    </h4>
                    <div class="ms-2">
                        <span *ngIf="status == 'ACT'" class="badge text-bg-success activestatus">Active</span>
                        <span *ngIf="status == 'DEL'" class="badge text-bg-danger activestatus">Inactive</span>
                        <span *ngIf="status == 'HOL'" class="badge text-bg-warning activestatus">Hold</span>
                    </div>
                </div>
                <div class="d-flex">
                    <span *ngIf="categoryName !='Others'">{{categoryName}}</span>
                    <span *ngIf="categoryName =='Others'">{{otherCategoryName}}</span>
                    <span *ngIf="categoryName !='Others'" class="ms-3">Survey ID- {{surveyId}}</span>
                    <span *ngIf="categoryName =='Others'" class="ms-3">Survey ID- {{surveyId}}</span>
                </div>

            </div>
            <a (click)="openLg(sidecontent)"><ng-icon name="heroPencilSquare"></ng-icon></a>
        </div>
        <div ngClass="pt-4 add-new-logic" *ngIf="isDivVisible">
            <h5 ngClass="mb-4">Logic</h5>
            <div ngClass="mb-4">
                <div class="logic-tab">
                    <!-- Nav tabs -->
                    <ul class="nav flex-column nav-tabs" id="myTab" role="tablist">

                        <li class="nav-item" role="presentation">
                            <button class="nav-link active" id="randomaisation-tab" data-bs-toggle="tab"
                                data-bs-target="#randomaisation" role="tab" aria-selected="false">Randomization</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button (click)="getAllSurveyList()" class="nav-link" id="autocode-tab" data-bs-toggle="tab"
                                data-bs-target="#autocode" role="tab" aria-selected="false">Autocode</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="logics-tab" data-bs-toggle="tab" data-bs-target="#logics"
                                role="tab" aria-selected="false">Logics</button>
                        </li>
                    </ul>
                    <!-- Logic Question -->
                    <div class="tab-content p-4">
                        <div class="tab-pane active" id="randomaisation" role="tabpanel"
                            aria-labelledby="randomaisation-tab">
                            <h5 ngClass="mb-4">Randomization</h5>
                            <div ngClass="mb-3 d-flex justify-content-between align-items-center">
                                <h6 class="mb-0">Randomize a set of questions (From Question To Question)
                                </h6>
                                <button type="button" class="btn btn-primary btn-sm"
                                    (click)="addRandomizationSection()">Add New Randomization</button>
                            </div>

                            <div *ngFor="let randomization of randormizeEntries; let i = index">
                                <div class="border rounded p-4 mb-2">
                                    <h5>Randomization {{ i + 1 }}</h5>
                                    <div class="d-flex gap-3">
                                        <!-- <select class="form-select" aria-label="Default select example"
                                            [(ngModel)]="randomization.fromQuestion">
                                            <option [value]="null" selected disabled>Select From Question</option>
                                            <option *ngFor="let option of logicQuestionList" [value]="option.id">{{
                                                option.item }}</option>

                                        </select> -->
                                        <mat-form-field>
                                            <mat-select [(ngModel)]="randomization.fromQuestion" #selectElement>
                                                <ng-container *ngFor="let option of logicQuestionListById">
                                                    <mat-option [value]="option.id" [title]="option.item">
                                                        {{ option.item.split(' ').slice(0, 3).join(' ')
                                                        }}{{option.item.split('
                                                        ').length > 3 ? ' ...' : '' }}
                                                    </mat-option>
                                                </ng-container>
                                            </mat-select>
                                        </mat-form-field>

                                        <!-- <select class="form-select" aria-label="Default select example"
                                            [(ngModel)]="randomization.toQuestion">
                                            <option [value]="null" selected disabled>Select To Question</option>
                                            <option *ngFor="let option of logicQuestionList" [value]="option.id">{{
                                                option.item }}</option>
                                        </select> -->
                                        <mat-form-field>
                                            <mat-select [(ngModel)]="randomization.toQuestion" #selectElement>
                                                <ng-container *ngFor="let option of logicQuestionListById">
                                                    <mat-option [value]="option.id" [title]="option.item">
                                                        {{ option.item.split(' ').slice(0, 3).join(' ')
                                                        }}{{option.item.split('
                                                        ').length > 3 ? ' ...' : '' }}
                                                    </mat-option>
                                                </ng-container>
                                            </mat-select>
                                        </mat-form-field>
                                        <!-- <mat-form-field>
                                            <mat-select #selectElement></mat-select>
                                            <mat-option *ngFor="let option of logicQuestionList" [value]="option.id">
                                                {{option.item }}
                                            </mat-option>
                                        </mat-form-field> -->

                                        <button type="button" class="btn btn-primary btn-sm"
                                            (click)="removeRandomizationSection(i)">Remove</button>
                                    </div>
                                    <div class="mt-3 ms-4 form-check checking">
                                        <input class="form-check-input" type="checkbox"
                                            [(ngModel)]="randomization.isRandomizationChecked" id="Randomise"
                                            (blur)="validateSurvey()">
                                        <label class="form-check-label" for="Randomise">
                                            Randomization these question
                                        </label>

                                    </div>
                                </div>
                            </div>


                            <!-- <div class="mb-3 ms-4 form-check checking">
                                <input class="form-check-input" type="checkbox" [(ngModel)]="isRandomizationChecked"
                                    id="Randomise" (blur)="validateSurvey()">
                                <label class="form-check-label" for="Randomise">
                                    Randomization these question
                                </label>
                                
                            </div> -->
                            <div class="row">
                                <div class="col-12 text-end d-flex justify-content-end">
                                    <button type="button" class="btn btn-primary btn-sm"
                                        (click)="saveRandomization()">Save</button>
                                </div>
                            </div>
                        </div>

                        <div class="tab-pane" id="autocode" role="tabpanel" aria-labelledby="autocode-tab">
                            <h5 ngClass="mb-4">Autocode</h5>
                            <div ngClass="mb-3 row">

                                <!-- <div class="mb-3">
                                    <mat-form-field>
                                        <mat-select [(ngModel)]="selectedAutoCodeOption" #selectElement>
                                            <mat-option *ngFor="let option of surveylist" [value]="option.surveyId"
                                                *ngIf="option.surveyId !== surveyId">
                                                {{ option.name }} ({{option.surveyId}})
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>



                                </div> -->
                                <div class="mb-3">
                                    <mat-form-field>
                                        <mat-select [(ngModel)]="selectedAutoCodeOption" #selectElement>
                                            <ng-container *ngFor="let option of surveylist">
                                                <mat-option *ngIf="option.surveyId !== surveyId"
                                                    [value]="option.surveyId">
                                                    {{ option.name }} ({{ option.surveyId }})
                                                </mat-option>
                                            </ng-container>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                                <div class="row">
                                    <div class="col-12 text-end d-flex justify-content-end">
                                        <button type="button" class="btn btn-primary btn-sm"
                                            (click)="saveAutoCode()">Save</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="tab-pane" id="logics" role="tabpanel" aria-labelledby="logics-tab">
                            <h5 ngClass="mb-4">Logics</h5>
                            <h6>In this Survey Applied Logics Count is <span
                                    class="badge text-bg-warning">{{logiccount}}</span>
                            </h6>
                        </div>

                    </div>
                </div>
            </div>
        </div>
        <div ngClass="question">
            <ul cdkDropList (cdkDropListDropped)="onItemDrop($event)">
                <li
                    *ngFor="let question of questions | paginate: { id: 'server', itemsPerPage: pageSize, currentPage: pageNumber, totalItems: totalItemsCount } ;let i=index;">
                    <div class="drag-item">
                        <div [ngClass]="{'ques-header': true, 'screening': question.isScreening}">
                            <h5 ngClass="mb-0">Q-{{question?.sort}} {{question?.question}}</h5>
                            <div class="d-flex align-items-center justify-content-end">
                                <div class="badge text-bg-primary fw-normal me-2" *ngIf="question?.genericTypeId>0">
                                    <ng-icon class="me-1" name="heroQuestionMarkCircle"></ng-icon>
                                    <span>{{question?.genericType}}</span>
                                </div>
                                <div class="badge text-bg-primary fw-normal me-2 qwerty" *ngIf="question.isScreening">
                                    <ng-icon class="me-1" name="heroQuestionMarkCircle"></ng-icon>
                                    <span>Screening</span>
                                </div>


                                <div class="badge text-bg-primary fw-normal me-2 position-relative"
                                    *ngIf="question?.logics.length>0"
                                    (click)="getQuestionLogic(i,question?.id);getQuestionListBranching(question?.id);toggleLogic(i,question?.id,'edit')">
                                    <ng-icon class="me-1" name="heroCommandLine"></ng-icon>
                                    <span>logics</span>
                                    <!-- <span
                                        class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
                                        9
                                    </span> -->

                                </div>
                                <!-- <mat-form-field>
                                    <mat-select #selectElement placeholder="Set to"
                                        (selectionChange)="onSelectChange($event, question?.sort, question?.id)">
                                        <mat-option *ngFor="let item of logicQuestionList" [value]="item.sort"
                                            [attr.selected]="idIsEqual(question.id, item.id) ? 'true' : null"
                                            [title]="item.item">
                                            {{ item.item.split(' ').slice(0, 3).join(' ') }}{{item.item.split('
                                            ').length > 3 ? ' ...' : ''}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field> -->
                                <mat-form-field>
                                    <mat-select #selectElement placeholder="Set to"
                                        (selectionChange)="onSelectChange($event, question?.sort, question?.id)">
                                        <mat-option *ngFor="let item of logicQuestionListById" [value]="item.sort"
                                            [attr.selected]="idIsEqual(question.id, item.id) ? 'true' : null"
                                            [title]="item.item">
                                            {{ item.item.split(' ').slice(0, 3).join(' ') }}{{item.item.split('
                                            ').length > 3 ? ' ...' : ''}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                                <div class="nav-item dropdown ms-3">
                                    <a class="nav-link" href="javascript:void(0);" id="navbarDropdownMenuLink"
                                        role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                        <ng-icon name="heroEllipsisVertical"></ng-icon>
                                    </a>
                                    <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                                        <li>
                                            <a href="javascript:void(0);" class="dropdown-item"
                                                (click)="onEditQuestionClick(question?.id)">
                                                <ng-icon name="heroPencil"></ng-icon>
                                                Edit
                                            </a>
                                        </li>
                                        <li *ngIf="question?.logics.length==0">
                                            <a href="javascript:void(0);" class="dropdown-item"
                                                (click)="toggleLogic(i,question?.id,'add');getQuestionListBranching(question?.id);getOptionsByQuestionIdLogic(question?.id)">
                                                <ng-icon name="heroCommandLine"></ng-icon>
                                                Logic
                                            </a>

                                        </li>
                                        <li *ngIf="question.genericTypeId==0"><a class="dropdown-item" routerLink="#"
                                                (click)="cloning(question.id)"><ng-icon
                                                    name="heroDocumentDuplicate"></ng-icon>Clone</a>
                                        </li>
                                        <li><a *ngIf="question?.logics.length>0" class="dropdown-item delete-hover"
                                                (click)="deleteQuestion(question.id,false)" href="javascript:">
                                                <ng-icon name="heroTrash"></ng-icon>Delete
                                            </a>
                                            <a *ngIf="question?.logics.length<=0" class="dropdown-item delete-hover"
                                                (click)="deleteQuestion(question.id,true)" href="javascript:">
                                                <ng-icon name="heroTrash"></ng-icon>Delete
                                            </a>

                                        </li>
                                    </ul>
                                </div>
                            </div>

                        </div>
                        <div ngClass="ques-body p-3">
                            <div ngClass="ques-ans">
                                <div *ngIf="question?.openEndedType === null || question?.openEndedType === ''">
                                    <div class="ques-radio mb-3" *ngFor="let option of question?.options; let i=index;">
                                        <label>
                                            <input type="radio" [id]="'question_option_' + i" name="question_option">
                                            <span class="checked">{{ option.option }}</span>
                                        </label>
                                    </div>
                                </div>
                                <div *ngIf="question?.openEndedType !== null && question?.openEndedType !== ''">
                                    <!-- <div class="ques-radio mb-3">
                                        <label>
                                            <input type="radio" name="question_option">
                                            <span class="checked">&nbsp;</span>
                                        </label>
                                    </div> -->

                                    <div class="ques-radio mb-3" *ngFor="let option of question?.options; let i=index;">
                                        <label>
                                            <input type="radio" [id]="'question_option_' + i" name="question_option">
                                            <span class="checked">{{ option.option }}</span>
                                        </label>
                                    </div>
                                </div>
                                <div *ngIf="question?.openEndedType !== ''">
                                    <input class="form-control" type="text" />
                                </div>
                                <div *ngIf="question.isScreening">
                                    <p>{{question.description}}</p>
                                    <img class="img-fluid"
                                        *ngIf="question.image !== 'https://beta.angular.opinionest.com/Files/Images/'"
                                        [src]="question.image" />
                                    <p>{{question.youtubeUrl}}</p>
                                    <ng-container
                                        *ngIf="question.video !== 'https://beta.angular.opinionest.com/Files/Video/'">
                                        <p>{{question.video}}</p>
                                    </ng-container>


                                </div>
                                <div ngClass="pt-4" *ngIf="question.isLogicShow" id="question-{{question.id}}">
                                    <div class="infocircle">
                                        <div class="d-flex">
                                            <h5 ngClass="mb-4">Logic</h5>
                                            <div class="custom-tooltip ms-2">
                                                <ng-icon name="heroInformationCircle" ngClass="edit-action info-circle"
                                                    (click)="toggleTooltip('6')"></ng-icon>
                                                <div class="toast show" *ngIf="showTooltip['6']">
                                                    <div class="toast-header">
                                                        <img [src]="baseUrl + '/assets/images/icons/Add-new-question.png'"
                                                            class="rounded me-2" width="30" height="30" />
                                                        <h6 class="mb-0 me-auto">Question Logic</h6>
                                                        <button type="button" class="btn-close" data-bs-dismiss="toast"
                                                            aria-label="Close" (click)="hideTooltip('6')"></button>
                                                    </div>
                                                    <div class="toast-body">
                                                        By incorporating various types of logic, you can greatly enhance
                                                        the efficiency and accuracy of your survey. Don't miss out on
                                                        valuable insights and data by relying on a single approach.
                                                        Utilize different types of logic to ensure that your survey runs
                                                        flawlessly from start to finish!
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <ng-icon name="heroXMark" ngClass="edit-action info-circle"
                                            (click)="toggleLogic(i,question?.id,'add')"></ng-icon>
                                    </div>
                                    <div ngClass="mb-4">
                                        <div class="logic-tab">
                                            <!-- Nav tabs -->
                                            <ul class="nav flex-column nav-tabs" id="myTab" role="tablist">
                                                <li class="nav-item" role="presentation">
                                                    <button class="nav-link active d-flex" id="branching-tab"
                                                        data-bs-toggle="tab"
                                                        [attr.data-bs-target]="'#branching' + question.id" role="tab"
                                                        aria-selected="true">Branching</button>
                                                </li>
                                                <li class="nav-item" role="presentation">
                                                    <button class="nav-link" id="customLogic-tab" data-bs-toggle="tab"
                                                        [attr.data-bs-target]="'#customLogic' + question.id" role="tab"
                                                        aria-selected="false">Custom
                                                        Logic</button>
                                                </li>
                                                <li class="nav-item" role="presentation">
                                                    <button class="nav-link" id="calculator-tab" data-bs-toggle="tab"
                                                        [attr.data-bs-target]="'#calculator' + question.id" role="tab"
                                                        aria-selected="false"
                                                        (click)="getLogicQuestionListForCalculation(question?.id,question?.sort);getQuestionListAgeCalculation(question?.id)">Calculations</button>
                                                </li>
                                            </ul>
                                            <!-- Logic Question -->
                                            <div class="tab-content p-4">
                                                <div class="tab-pane active" [id]="'branching' + question.id"
                                                    role="tabpanel" aria-labelledby="branching-tab">
                                                    <h5 ngClass="mb-4">Branching</h5>
                                                    <div ngClass="d-flex justify-content-between mb-3">
                                                        <h6>Redirect to different questions based on user's answer.</h6>
                                                    </div>

                                                    <div ngClass="logic-ques"
                                                        *ngFor="let logicEntry of logicEntriesPerQuestion[i]; let j = index">

                                                        <div class="border rounded p-3 mb-4">
                                                            <h5>Logic {{j+1}}</h5>
                                                            <div class="branching-quest-clone" #cloneSection>
                                                                <div class="">
                                                                    <div class="input-group flex-nowrap">
                                                                        <span class="input-group-text"
                                                                            id="addon-wrapping">In</span>
                                                                        <select class="form-select">
                                                                            <option selected>{{question?.question}}
                                                                            </option>
                                                                        </select>
                                                                    </div>
                                                                    <div class="add-multiple-logic">
                                                                        <div ngClass="if-then">
                                                                            <span>If</span>
                                                                        </div>
                                                                        <div ngClass="mb-4">
                                                                            <div class="row g-2 align-items-center">
                                                                                <div class="col-md-1">
                                                                                    <div>Value</div>
                                                                                </div>
                                                                                <div class="col-md-3">
                                                                                    <select class="form-select"
                                                                                        [(ngModel)]="logicEntry.ifId"
                                                                                        (change)="onLogicEntryChange(i,j)">
                                                                                        <option
                                                                                            *ngFor="let item of logicValuesList;"
                                                                                            [ngValue]="item.id">
                                                                                            {{item.name}}
                                                                                        </option>
                                                                                    </select>
                                                                                </div>

                                                                                <div class="col-md-8">
                                                                                    <mat-form-field
                                                                                        class="example-chip-list">
                                                                                        <mat-chip-grid #chipGrid
                                                                                            aria-label="City selection">
                                                                                            <mat-chip-row
                                                                                                *ngFor="let option of selectedOptionsLogic[i][j];">
                                                                                                {{option.option}}
                                                                                                <button matChipRemove
                                                                                                    [attr.aria-label]="'remove'"
                                                                                                    (click)="removeOptionLogic(option,i,j)">
                                                                                                    <mat-icon>cancel</mat-icon>
                                                                                                </button>
                                                                                            </mat-chip-row>
                                                                                            <input
                                                                                                [(ngModel)]="logicEntry.ifExpected"
                                                                                                [matChipInputFor]="chipGrid"
                                                                                                [matAutocomplete]="auto"
                                                                                                [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                                                                                                (matChipInputTokenEnd)="addOption($event,i,j)">
                                                                                        </mat-chip-grid>
                                                                                        <mat-autocomplete
                                                                                            #auto="matAutocomplete"
                                                                                            (optionSelected)="selectedOptionsIFLogic($event,logicEntry.ifId,i,j)">
                                                                                            <mat-option
                                                                                                *ngFor="let option of optionListByQuestionIdLogic"
                                                                                                [value]="option">
                                                                                                {{option.option}}
                                                                                            </mat-option>
                                                                                        </mat-autocomplete>
                                                                                    </mat-form-field>
                                                                                </div>

                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                                <div class="border rounded p-3 bg-body-tertiary">
                                                                    <div class="clone-icon">
                                                                        <div class="col-md-4 d-flex ">
                                                                            <div class="">
                                                                                <ng-icon name="heroPlusCircle"
                                                                                    [ngClass]="{'hidden': showRemoveandlogicArray[i][j]}"
                                                                                    *ngIf="!showRemoveandlogicArray[i][j]"
                                                                                    (click)="toggleAndOrVisibility(i, j)" />
                                                                                <ng-icon name="heroMinusCircle"
                                                                                    [ngClass]="{'hidden': !showRemoveandlogicArray[i][j]}"
                                                                                    *ngIf="showRemoveandlogicArray[i][j]"
                                                                                    (click)="toggleAndOrVisibility(i, j)" />
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-md-4 d-flex"
                                                                        *ngIf="visibleaddandlogic[i][j]">
                                                                        <!-- <div
                                                                            class="form-check form-check-inline d-flex align-items-center">
                                                                            <input class="form-check-input" type="radio"
                                                                                [name]="'inlineRadioOptions' + i + j"
                                                                                id="inlineRadio1" value="option1"
                                                                                [(ngModel)]="logicEntry.isAnd"
                                                                                [checked]="logicEntry.isAnd ? true : null">
                                                                            <label class="form-check-label ps-1"
                                                                                for="inlineRadio1">And</label>
                                                                        </div> -->
                                                                        <div
                                                                            class="form-check form-check-inline d-flex align-items-center">
                                                                            <label class="form-check-label ps-1">
                                                                                <input class="form-check-input"
                                                                                    [name]="'inlineRadioOptions' + i + j"
                                                                                    id="inlineRadio1" value="option1"
                                                                                    [checked]="logicEntry.isAnd ? true : null"
                                                                                    type="radio"
                                                                                    [(ngModel)]="logicEntry.isAnd">And
                                                                            </label>
                                                                        </div>
                                                                        <!-- <div
                                                                            class="form-check form-check-inline d-flex align-items-center">
                                                                            <input class="form-check-input" type="radio"
                                                                                [name]="'inlineRadioOptions' + i + j"
                                                                                id="inlineRadio2" value="option2"
                                                                                [(ngModel)]="logicEntry.isOr"
                                                                                [checked]="logicEntry.isOr ? true : null">
                                                                            <label class="form-check-label ps-1"
                                                                                for="inlineRadio2">Or</label>
                                                                        </div> -->
                                                                        <div
                                                                            class="form-check form-check-inline d-flex align-items-center">
                                                                            <label class="form-check-label ps-1">
                                                                                <input class="form-check-input"
                                                                                    type="radio"
                                                                                    [name]="'inlineRadioOptions' + i + j"
                                                                                    id="inlineRadio2" value="option2"
                                                                                    [checked]="logicEntry.isOr ? true : null"
                                                                                    [(ngModel)]="logicEntry.isOr">Or
                                                                            </label>
                                                                        </div>
                                                                    </div>
                                                                    <div class="and-or-clone"
                                                                        *ngIf="isAndOrLogic[i][j]">
                                                                        <div class="input-group flex-nowrap">
                                                                            <span class="input-group-text"
                                                                                id="addon-wrapping">In</span>
                                                                            <select class="form-select"
                                                                                #selectedQuestion
                                                                                (change)="getOptionsByQuestionId(selectedQuestion.value,i,j)"
                                                                                [(ngModel)]="logicEntry.questionIdAndOr">
                                                                                <option value="null">Select Option
                                                                                </option>
                                                                                <option
                                                                                    *ngFor="let item of logicQuestionList;let i=index;"
                                                                                    value="{{item.id}}">{{item.item}}
                                                                                </option>
                                                                            </select>
                                                                        </div>
                                                                        <div class="add-multiple-logic">
                                                                            <div ngClass="if-then">
                                                                                <span>If</span>
                                                                            </div>
                                                                            <div ngClass="mb-4">
                                                                                <div class="row g-2 align-items-center">
                                                                                    <div class="col-md-1">
                                                                                        <div>Value</div>
                                                                                    </div>
                                                                                    <div class="col-md-3">
                                                                                        <!-- Use unique template reference variables by appending the index -->
                                                                                        <select class="form-select"
                                                                                            #ifIdSelect="ngModel"
                                                                                            [(ngModel)]="logicEntry.ifIdAndOr"
                                                                                            (change)="onLogicEntryOrIdChange(i,j)">
                                                                                            <option
                                                                                                *ngFor="let item of logicValuesList;let j=index;"
                                                                                                [value]="item.id">
                                                                                                {{item.name}}
                                                                                            </option>
                                                                                        </select>
                                                                                    </div>
                                                                                    <div class="col-md-8">
                                                                                        <mat-form-field
                                                                                            class="example-chip-list">
                                                                                            <mat-chip-grid #chipGrid
                                                                                                aria-label="City selection">
                                                                                                <mat-chip-row
                                                                                                    *ngFor="let option of selectedOptions[i][j];">
                                                                                                    {{ option.option }}
                                                                                                    <button
                                                                                                        matChipRemove
                                                                                                        [attr.aria-label]="'remove'"
                                                                                                        (click)="removeOptionAndOr(option,i,j)">
                                                                                                        <mat-icon>cancel</mat-icon>
                                                                                                    </button>
                                                                                                </mat-chip-row>
                                                                                                <input
                                                                                                    [(ngModel)]="logicEntry.ifExpectedAndOr"
                                                                                                    [matChipInputFor]="chipGrid"
                                                                                                    [matAutocomplete]="auto"
                                                                                                    [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                                                                                                    (matChipInputTokenEnd)="addOptionAndOr($event,i,j)">
                                                                                            </mat-chip-grid>
                                                                                            <mat-autocomplete
                                                                                                #auto="matAutocomplete"
                                                                                                (optionSelected)="selectedOptionAndOrd($event,logicEntry.ifIdAndOr,i,j)">
                                                                                                <mat-option
                                                                                                    *ngFor="let option of optionListByQuestionId"
                                                                                                    [value]="option">
                                                                                                    {{option.option}}
                                                                                                </mat-option>
                                                                                            </mat-autocomplete>
                                                                                        </mat-form-field>
                                                                                    </div>

                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="add-multiple-logic">
                                                                <div ngClass="if-then">
                                                                    <span>Then </span>
                                                                </div>
                                                                <div ngClass="mb-4">
                                                                    <div class="row g-2 align-items-center">
                                                                        <div class="col-md-4">
                                                                            <!-- <span class="w-100">&nbsp;</span> -->
                                                                            <!-- Use unique template reference variables by appending the index -->
                                                                            <select class="form-select"
                                                                                #thanIdSelect="ngModel"
                                                                                [(ngModel)]="logicEntry.thanId"
                                                                                (change)="onLogicEntryOrThanChange(thanIdSelect.value)">
                                                                                <option
                                                                                    *ngFor="let item of logicThensList;let j=index;"
                                                                                    [value]="item.id">{{item.name}}
                                                                                </option>
                                                                            </select>
                                                                        </div>
                                                                        <div class="col-md-7"
                                                                            *ngIf="logicEntry.thanId=='5'">
                                                                            <div class="d-flex gap-4">
                                                                                <label class="">
                                                                                    <span class="w-100">Every
                                                                                        Time</span>
                                                                                    <div class="d-flex align-items-center"
                                                                                        style="height:50px">
                                                                                        <input type="radio"
                                                                                            class="form-check-input"
                                                                                            name="frequency"
                                                                                            [(ngModel)]="logicEntry.isEveryTime" />
                                                                                    </div>
                                                                                </label>

                                                                                <label class="">
                                                                                    <span class="w-100">Times</span>
                                                                                    <div
                                                                                        class="d-flex align-items-center">
                                                                                        <input type="radio"
                                                                                            class="form-check-input"
                                                                                            name="frequency" />
                                                                                        <input type="text"
                                                                                            class="form-control ms-2"
                                                                                            [(ngModel)]="logicEntry.timesPeriod" />
                                                                                    </div>
                                                                                </label>
                                                                                <label class="">
                                                                                    <span class="w-100">Enter Popup
                                                                                        Text</span>
                                                                                    <input type="text"
                                                                                        class="form-control"
                                                                                        [(ngModel)]="logicEntry.popupText" />
                                                                                </label>
                                                                            </div>
                                                                        </div>
                                                                        <div class="col-md-4"
                                                                            *ngIf="logicEntry.thanId!='3' && logicEntry.thanId!='4' && logicEntry.thanId!='5'">
                                                                            <!-- Use unique template reference variables by appending the index -->
                                                                            <select class="form-select"
                                                                                #thanExpectedSelect="ngModel"
                                                                                [(ngModel)]="logicEntry.thanExpected"
                                                                                (ngModelChange)="onSelectChangeoption($event)">
                                                                                <option value="null">Select Question
                                                                                </option>
                                                                                <option
                                                                                    *ngFor="let item of questionListBranching;let j=index;"
                                                                                    [value]="item.item.charAt(0)+'-'+item.id">
                                                                                    {{item.item}}
                                                                                </option>
                                                                            </select>
                                                                        </div>

                                                                        <!-- <div class="col-md-1">
                                                                            <a routerLink="javascript:"><ng-icon
                                                                                    name="heroTrash"
                                                                                    ngClass="trash-icon"></ng-icon></a>
                                                                        </div> -->
                                                                        <div class="col-md-1">
                                                                            <button type="button"
                                                                                class="btn btn-outline-primary btn-sm"
                                                                                (click)="showBranchingElse(i,j)">Else</button>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div ngClass="if-then"
                                                                    *ngIf="isBranchingElseShow[i][j] || logicEntry.elseId != null">
                                                                    <span>Else {{logicEntry.elseExpected}}</span>
                                                                </div>
                                                                <div ngClass="mb-4"
                                                                    *ngIf="isBranchingElseShow[i][j] || logicEntry.elseId != null">
                                                                    <div class="row g-2 align-items-center">
                                                                        <div class="col-md-4">
                                                                            <!-- Use unique template reference variables by appending the index -->
                                                                            <select class="form-select"
                                                                                #elseIdSelect="ngModel"
                                                                                [(ngModel)]="logicEntry.elseId"
                                                                                (change)="onLogicEntryOrElseChange(elseIdSelect.value,i,j)">

                                                                                <option
                                                                                    *ngFor="let item of logicThensList;let j=index;"
                                                                                    [value]="item.id">{{item.name}}
                                                                                </option>
                                                                            </select>
                                                                        </div>
                                                                        <div class="col-md-6"
                                                                            *ngIf="logicEntry.elseId==5">
                                                                            <div class="d-flex gap-2">
                                                                                <label class="">
                                                                                    <span class="w-100">Every
                                                                                        Time</span>
                                                                                    <input type="radio"
                                                                                        class="form-input"
                                                                                        name="frequencyElse"
                                                                                        [(ngModel)]="logicEntry.isEveryTimeElse" />
                                                                                </label>

                                                                                <label class="">
                                                                                    <span class="w-100">Times</span>
                                                                                    <div class="d-flex">
                                                                                        <input type="radio"
                                                                                            class="form-input"
                                                                                            name="frequencyElse" />
                                                                                        <input type="text"
                                                                                            class="form-input"
                                                                                            style="width: 50px;"
                                                                                            [(ngModel)]="logicEntry.timesPeriodElse" />
                                                                                    </div>
                                                                                </label>
                                                                                <label class="">
                                                                                    <span class="w-100">Enter Popup
                                                                                        Text</span>
                                                                                    <input type="text"
                                                                                        class="form-input"
                                                                                        [(ngModel)]="logicEntry.popupTextElse" />
                                                                                </label>
                                                                            </div>
                                                                        </div>
                                                                        <div class="col-md-4"
                                                                            *ngIf="isElseShow[i][j] && logicEntry.elseId!=5">
                                                                            <!-- Use unique template reference variables by appending the index -->
                                                                            <select class="form-select"
                                                                                #thanExpectedSelect="ngModel"
                                                                                [(ngModel)]="logicEntry.elseExpected">
                                                                                <option value="null">Select Question
                                                                                </option>
                                                                                <option
                                                                                    *ngFor="let item of questionListBranching;let j=index;"
                                                                                    [value]="item.item.charAt(0)+'-'+item.id">
                                                                                    {{item.item}}
                                                                                </option>
                                                                            </select>
                                                                        </div>

                                                                        <div class="col-md-1">
                                                                            <button type="button"
                                                                                class="btn btn-outline-primary btn-sm"
                                                                                (click)="hideBranchingElse(i,j)">Remove</button>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div
                                                                    class="col-12 text-end d-flex justify-content-between">
                                                                    <button type="button" class="btn btn-primary btn-sm"
                                                                        (click)="removeLogicEntry(i,j)">Remove Logic
                                                                        {{j+1}}</button>

                                                                </div>
                                                            </div>
                                                        </div>
                                                        <!-- <div class="row">
                                                            <div class="col-12 text-end d-flex justify-content-between">
                                                                <button type="button" class="btn btn-primary btn-sm"
                                                                    (click)="addNewLogicEntry(i,j+1)">Add New Logic</button>
                                                                <button type="button" class="btn btn-primary btn-sm"
                                                                    (click)="createLogic(question?.id, logicEntriesPerQuestion[i])">Save</button>
                                                            </div>
                                                        </div> -->
                                                    </div>

                                                    <hr>
                                                    <div class="row">
                                                        <div class="col-12 text-end d-flex justify-content-between">
                                                            <button type="button" class="btn btn-primary btn-sm"
                                                                (click)="addNewLogicEntry(i)">Add New Logic</button>
                                                            <button type="button" class="btn btn-primary btn-sm"
                                                                (click)="createLogic(question?.id, logicEntriesPerQuestion[i])">Save</button>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="tab-pane" [id]="'customLogic' + question.id" role="tabpanel"
                                                    aria-labelledby="customLogic-tab">
                                                    <div class="alert alert-success p-5" role="alert">
                                                        <h4 class="alert-heading">Custom Logic !</h4>
                                                        <p>For Adding new custom logic, connect to our developer.</p>
                                                        <hr>
                                                        <p class="mb-0">Whenever you need to, be sure to use margin
                                                            utilities to keep things nice and tidy.</p>
                                                    </div>
                                                </div>
                                                <div class="tab-pane" [id]="'calculator' + question.id" role="tabpanel"
                                                    aria-labelledby="calculator-tab" *ngIf="checkgenerictype === true">
                                                    <h5 ngClass="mb-4">Calculations</h5>
                                                    <div ngClass="d-flex justify-content-between mb-3">
                                                        <h6>Find current age of respondent given his/her year of birth
                                                            or DOB. </h6>
                                                    </div>

                                                    <div ngClass="mb-4" *ngFor="let question of questions">
                                                        <div class="row g-2 align-items-center"
                                                            *ngIf="question.genericType === 'Age'">
                                                            <div class="col-md-3">
                                                                <div>Question</div>
                                                            </div>
                                                            <div class="col-md-9">
                                                                <input class="form-control"
                                                                    [ngModel]="question.question">
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div ngClass="mb-4">
                                                        <div class="row g-2 align-items-center">
                                                            <div class="col-md-3">
                                                                <div>Perform Operation</div>
                                                            </div>
                                                            <div class="col-md-4">
                                                                <select class="form-select"
                                                                    [(ngModel)]="calulationPerformOperationOption"
                                                                    [ngModelOptions]="{standalone: true}">
                                                                    <option value="null">Select Option
                                                                    </option>
                                                                    <option
                                                                        *ngFor="let item of ageOptionLogicValuesList;let i=index;"
                                                                        value="{{item.id}}">{{item.name}}</option>
                                                                </select>
                                                            </div>

                                                            <div class="col-md-3">
                                                                <input class="form-control" type="number"
                                                                    placeholder="Value"
                                                                    [(ngModel)]="calulationPerformOperationValue"
                                                                    [ngModelOptions]="{standalone: true}">
                                                            </div>
                                                        </div>
                                                    </div>


                                                    <div ngClass="mb-4">
                                                        <div class="if-then"><span>Then</span></div>
                                                        <div class="row g-2 align-items-center">
                                                            <div class="col-md-4">
                                                                <select class="form-select"
                                                                    [(ngModel)]="calulationThenOption"
                                                                    [ngModelOptions]="{standalone: true}">
                                                                    <option value="null">Select Option
                                                                    </option>
                                                                    <option
                                                                        *ngFor="let item of logicThensList;let j=index;"
                                                                        [value]="item.id">
                                                                        {{item.name}}</option>
                                                                </select>
                                                            </div>
                                                            <div class="col-md-7" *ngIf="calulationThenOption=='5'">
                                                                <div class="d-flex gap-4">
                                                                    <label class="">
                                                                        <span class="w-100">Every
                                                                            Time</span>
                                                                        <div class="d-flex align-items-center"
                                                                            style="height:50px">
                                                                            <input type="radio" class="form-check-input"
                                                                                name="frequency"
                                                                                [(ngModel)]="calulationThenOption.isEveryTime" />
                                                                        </div>
                                                                    </label>

                                                                    <label class="">
                                                                        <span class="w-100">Times</span>
                                                                        <div class="d-flex align-items-center">
                                                                            <input type="radio" class="form-check-input"
                                                                                name="frequency" />
                                                                            <input type="text" class="form-control ms-2"
                                                                                [(ngModel)]="calulationThenOption.timesPeriod" />
                                                                        </div>
                                                                    </label>
                                                                    <label class="">
                                                                        <span class="w-100">Enter Popup
                                                                            Text</span>
                                                                        <input type="text" class="form-control"
                                                                            [(ngModel)]="calulationThenOption.popupText" />
                                                                    </label>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-4"
                                                                *ngIf="calulationThenOption!='3' && calulationThenOption!='4' && calulationThenOption!='5'">
                                                                <select class="form-select"
                                                                    [(ngModel)]="calulationThenValue"
                                                                    [ngModelOptions]="{standalone: true}">
                                                                    <option value="null">Select Question
                                                                    </option>
                                                                    <option
                                                                        *ngFor="let item of logicQuestionListForCalculation;let j=index;"
                                                                        [value]="item.id">{{item.item}}</option>
                                                                </select>
                                                            </div>
                                                            <div class="col-md-3 checking">
                                                                <button *ngIf="!isCalulationElseShow" type="button"
                                                                    class="btn btn-outline-primary btn-sm"
                                                                    (click)="showCalculationElse()">Else</button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div ngClass="mb-4" *ngIf="isCalulationElseShow">
                                                        <div class="row g-2 align-items-center">
                                                            <div class="col-md-3">
                                                                <div>Else</div>
                                                            </div>
                                                            <div class="col-md-3">
                                                                <select class="form-select"
                                                                    [(ngModel)]="calulationElseOption"
                                                                    [ngModelOptions]="{standalone: true}">
                                                                    <option value="null">Select Option
                                                                    </option>
                                                                    <option
                                                                        *ngFor="let item of logicThensList;let j=index;"
                                                                        [value]="item.id">{{item.name}}</option>
                                                                </select>
                                                            </div>
                                                            <div class="col-md-6" *ngIf="calulationElseOption==5">
                                                                <div class="d-flex gap-2">
                                                                    <label class="">
                                                                        <span class="w-100">Every
                                                                            Time</span>
                                                                        <input type="radio" class="form-input"
                                                                            name="frequencyElse"
                                                                            [(ngModel)]="calulationElseOption.isEveryTimeElse" />
                                                                    </label>

                                                                    <label class="">
                                                                        <span class="w-100">Times</span>
                                                                        <div class="d-flex">
                                                                            <input type="radio" class="form-input"
                                                                                name="frequencyElse" />
                                                                            <input type="text" class="form-input"
                                                                                style="width: 50px;"
                                                                                [(ngModel)]="calulationElseOption.timesPeriodElse" />
                                                                        </div>
                                                                    </label>
                                                                    <label class="">
                                                                        <span class="w-100">Enter Popup
                                                                            Text</span>
                                                                        <input type="text" class="form-input"
                                                                            [(ngModel)]="calulationElseOption.popupTextElse" />
                                                                    </label>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-3"
                                                                *ngIf="calulationElseOption!='3' && calulationElseOption!='4' && calulationElseOption!='5'">
                                                                <select class="form-select"
                                                                    [(ngModel)]="calulationElseValue"
                                                                    [ngModelOptions]="{standalone: true}">
                                                                    <option value="null">Select Question
                                                                    </option>
                                                                    <option
                                                                        *ngFor="let item of logicQuestionListForCalculation;let j=index;"
                                                                        [value]="item.id">{{item.item}}</option>
                                                                </select>
                                                            </div>
                                                            <div class="col-md-3 checking">
                                                                <button type="button"
                                                                    class="btn btn-outline-primary btn-sm"
                                                                    (click)="hideCalculationElse()">Remove</button>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="row">
                                                        <div class="col-12 text-end d-flex justify-content-end">
                                                            <button type="button" class="btn btn-primary"
                                                                (click)="saveCalculation(question?.id)">Save</button>
                                                        </div>
                                                    </div>

                                                </div>
                                                <div class="tab-pane" [id]="'calculator' + question.id" role="tabpanel"
                                                    aria-labelledby="calculator-tab" *ngIf="checkgenerictype !== true">
                                                    <p>Calculation is not avaliable for this Survey</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </li>
            </ul>
        </div>
        <!-- <pagination-controls *ngIf="questions != null && questions.length>0" class="d-flex justify-content-center"
            id="server" (pageChange)="onPageChange($event)"></pagination-controls> -->
        <div class="custom-pagination d-flex justify-content-between align-items-center mt-5"
            *ngIf="questions.length>pageSize-1 || pageNumber>1">
            <pagination-controls *ngIf="questions != null && questions.length>0" class="d-flex justify-content-center"
                id="server" (pageChange)="onPageChange($event)"></pagination-controls>
            <div class="d-flex align-items-center">
                <span class="me-2">Page Size:</span>
                <select [(ngModel)]="pageSize" (change)="onPageSizeChange()" class="form-select">
                    <option value="10">10</option>
                    <option value="20">20</option>
                    <option value="50">50</option>
                    <!-- Add more options as needed -->
                </select>
            </div>

            <div class="d-flex align-items-center">
                <span class="me-2 ms-4">Jump to:</span>
                <input style="flex: 1;" type="number" [(ngModel)]="currentPage" (keyup.enter)="jumpToPage()"
                    class="form-control" />
            </div>
        </div>
        <div ngClass="drag-ques" *ngIf="questions == null || questions.length==0">
            <div>
                <ng-icon name="heroArrowUpTray"></ng-icon>
                <p>Create your New Question for Survey</p>
                <span>It is a long established fact that a reader will be distracted by the readable content of a
                    page
                    when looking at its layout.</span>
            </div>
        </div>

    </div>
</div>


<!-- Add New Question -->
<ng-template #content let-modal>
    <div class="modal-header">
        <h4 class="modal-title">Select Question Type</h4>
        <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
    </div>
    <div class="modal-body popup-ques">
        <div ngClass="update-ques-type generic-ques">
            <ul>
                <li *ngFor="let ques of question">
                    <a [ngClass]="{'active':(ques.id === selectedQuestionType)}" href="javascript:void(0);"
                        (click)="onQuestionTypeClick(ques.id,ques.type)">
                        <figure>
                            <img loading="lazy" [src]="baseUrl + '/assets/' + ques.image" width="38" height="30" />
                        </figure>
                        <figcaption>
                            {{ ques.type }}
                            <br />
                            <small>{{ ques.subType }}</small>
                        </figcaption>
                    </a>
                </li>
            </ul>
        </div>
    </div>
    <div class="modal-footer upload">
        <button type="button" class="btn close" (click)="modal.close('Close click')">Cancel</button>
        <button type="button" class="btn btn-primary icon"
            (click)="onCreateQuesClick();modal.close('Close click')">Create
            <ng-icon name="heroArrowLongRight" class="ms-4"></ng-icon>
        </button>
    </div>
</ng-template>

<!-- Add new Genric Question -->
<ng-template #genricQuestion let-modal>
    <div class="modal-header">
        <h4 class="modal-title">Select Generic Question Type</h4>
        <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
    </div>
    <div class="modal-body popup-ques">
        <div ngClass="update-ques-type generic-ques">
            <ul>
                <li *ngFor="let item of names">
                    <a href="javascript:" (click)="onGenericQuestionClick(item.name);modal.close('Close click')">
                        <figure>
                            <img [src]="baseUrl + '/assets/' + item.image" width="35" height="35" />
                        </figure>
                        <figcaption>{{ item.name }}</figcaption>
                    </a>
                </li>
            </ul>
        </div>
    </div>
    <div class="modal-footer upload">
        <button type="button" class="btn close" (click)="modal.close('Close click')">Cancel</button>
        <button type="button" class="btn btn-primary icon" (click)="modal.close('Close click')">Create
            <ng-icon name="heroArrowLongRight" class="ms-4"></ng-icon>
        </button>
    </div>
</ng-template>
<!-- Add new nccs Question -->
<ng-template #nccsQuestion let-modal>
    <div class="modal-header">
        <h4 class="modal-title">Select NCCS Question Type</h4>
        <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
    </div>
    <div class="modal-body popup-ques">
        <div ngClass="update-ques-type generic-ques">
            <ul>
                <li>
                    <a href="javascript:" (click)="onGenericQuestionClick('SECLSM');modal.close('Close click')">
                        <figure>
                            <img [src]="baseUrl + '/assets/images/icons/nccs.png'" width="35" height="35" />
                        </figure>
                        <figcaption>NCCS</figcaption>
                    </a>
                </li>
                <li>
                    <a href="javascript:" (click)="onGenericQuestionClick('FLSM');modal.close('Close click')">
                        <figure>
                            <img [src]="baseUrl + '/assets/images/icons/nccs.png'" width="35" height="35" />
                        </figure>
                        <figcaption>FLSM</figcaption>
                    </a>
                </li>
            </ul>
        </div>
    </div>
    <div class="modal-footer upload">
        <button type="button" class="btn close" (click)="modal.close('Close click')">Cancel</button>
        <button type="button" class="btn btn-primary icon" (click)="modal.close('Close click')">Create
            <ng-icon name="heroArrowLongRight" class="ms-4"></ng-icon>
        </button>
    </div>
</ng-template>

<ng-template #sidecontent let-modal>
    <div class="modal-header">
        <h4 class="modal-title">Create Your New Survey</h4>
        <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
    </div>
    <div class="modal-body popup-ques">
        <form>
            <div class="mb-4">
                <label for="surveyname" class="form-label">Enter Your Survey Name</label>
                <input id="surveyname" type="text" class="form-control" name="surveyName" [(ngModel)]="surveyName"
                    [ngModelOptions]="{standalone: true}" (blur)="validateSurvey()" />
                <div *ngIf="!surveyNameCheck" class="text-danger">Survey Name is required.</div>
            </div>
            <!-- <div class="mb-4">
                <label class="form-label">Select Your Country</label>
                <mat-form-field>
                    <mat-select name="countryString" [(value)]="selectedCountry" placeholder="Country">
                        <mat-option *ngFor="let item of country" [value]="item.id">
                            <img [src]="baseUrl + '/assets/images/country-flag/' + item.images"
                                class="me-2 rounded-circle" style="width: 30px;height: 30px;" />
                            {{item.name}}</mat-option>
                        <mat-option *ngFor="let item of country" [value]="item.id">{{item.name}}</mat-option>
                    </mat-select>

                </mat-form-field>
            </div> -->
            <div class="mb-4">
                <label class="form-label">Select Your Country</label>
                <!-- <mat-form-field>
                    <mat-select name="countryString" [(value)]="selectedCountry" placeholder="Country">
                        <mat-select-trigger>
                            <img *ngIf="selectedCountry"
                                [src]="baseUrl + '/assets/images/country-flag/' + selectedCountry.images"
                                class="me-2 rounded-circle" style="width: 30px;height: 30px;" />
                            {{selectedCountry ? selectedCountry.name : ''}}
                        </mat-select-trigger>
                        <mat-option *ngFor="let item of country" [value]="item">
                            <img [src]="baseUrl + '/assets/images/country-flag/' + item.images"
                                class="me-2 rounded-circle" style="width: 30px;height: 30px;" />
                            {{item.name}}
                        </mat-option>
                    </mat-select>
                </mat-form-field> -->
                <mat-form-field>
                    <mat-select name="countryString" [(value)]="selectedCountry" placeholder="Country">
                        <mat-select-trigger>
                            <img *ngIf="selectedCountry && selectedCountry.images"
                                [src]="baseUrl + '/assets/images/country-flag/' + selectedCountry.images"
                                class="me-2 rounded-circle" style="width: 30px;height: 30px;" />
                            {{selectedCountry ? selectedCountry.name : ''}}
                        </mat-select-trigger>
                        <mat-option *ngFor="let item of country" [value]="item">
                            <!-- Only display image if the item has images property -->
                            <img *ngIf="item.images" [src]="baseUrl + '/assets/images/country-flag/' + item.images"
                                class="me-2 rounded-circle" style="width: 30px;height: 30px;" />
                            {{item.name}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
                <div *ngIf="!countryNameCheck" class="text-danger">Country is required.</div>
            </div>
            <div class="mb-4" class="search-categories input-icon">
                <label class="form-label">Select Survey Categories</label>
                <mat-form-field>
                    <ng-icon name="heroMagnifyingGlass" class=""></ng-icon>
                    <input type="text" placeholder="Search..." matInput [formControl]="searchControl"
                        [matAutocomplete]="auto" [(ngModel)]="categoryName" (blur)="validateSurvey()" />
                    <mat-autocomplete #auto="matAutocomplete" (optionSelected)="filterOptions($event)">
                        <mat-option *ngFor="let option of options" [value]="option.id">
                            {{ option.name }}
                        </mat-option>
                    </mat-autocomplete>
                </mat-form-field>
                <div *ngIf="!categoryNameCheck" class="text-danger">Category is required.</div>
            </div>
            <div class="mb-4" *ngIf="selectedOption === 'Others'">
                <label for="otherCategoryName" class="form-label">Enter Category Name</label>
                <input id="otherCategoryName" type="text" class="form-control" [(ngModel)]="otherCategoryName"
                    name="otherCategoryName" />
            </div>

        </form>
    </div>
    <div class="modal-footer upload">
        <button type="button" class="btn close" (click)="modal.close('Close click')">Cancel</button>
        <a href="javascript:void(0);" type="button" class="btn btn-primary icon" (click)="updateSurvey()">Update
            <ng-icon name="heroArrowLongRight" class="ms-4"></ng-icon></a>
    </div>
</ng-template>

<!-- Add New Screen -->
<ng-template #AddScreen let-modal>
    <div class="modal-header">
        <h4 class="modal-title">Add New Screen</h4>
        <button type="button" class="btn-close" aria-label="Close"
            (click)="modal.dismiss('Cross click'); isActivescreen = false;"></button>
    </div>
    <div class="modal-body popup-ques">
        <div class="logic-tab">
            <!-- Nav tabs -->
            <ul class="nav flex-column nav-tabs" id="myTab" role="tablist">
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="addText-tab" data-bs-toggle="tab" data-bs-target="#addText" role="tab"
                        aria-selected="false">Add Text</button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link active" id="addImage-tab" data-bs-toggle="tab" data-bs-target="#addImage"
                        role="tab" aria-selected="false">Add an Image</button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="addVideo-tab" data-bs-toggle="tab" data-bs-target="#addVideo"
                        role="tab" aria-selected="false">Add Video</button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="addiFrame-tab" data-bs-toggle="tab" data-bs-target="#addiFrame"
                        role="tab" aria-selected="false">Add iFrame</button>
                </li>
            </ul>
            <!-- Logic Question -->
            <div class="tab-content p-4">
                <div class="tab-pane" id="addText" role="tabpanel" aria-labelledby="addText-tab">
                    <h5 ngClass="mb-4">Add Text</h5>
                    <div class="mb-3">
                        <div ngClass="d-flex align-items-center justify-content-between">
                            <h6>Please add text you want display before the next queston.</h6>
                        </div>
                    </div>
                    <div class="mb-3">
                        <input type="text" class="form-control" placeholder="Insert Heading for Image Screen"
                            [(ngModel)]="screenQuestion" [ngModelOptions]="{standalone: true}"
                            (blur)="validateAddScreen('text')" />
                        <div *ngIf="!headingrequired" class="text-danger">Heading is required.</div>
                    </div>
                    <div class="mb-3">
                        <textarea type="text" class="form-control" rows="10" col="20" placeholder="Insert Text"
                            [(ngModel)]="description" [ngModelOptions]="{standalone: true}"
                            (blur)="validateAddScreen('text')"></textarea>
                        <div *ngIf="!descriptionrequired" class="text-danger">Description is required.</div>
                    </div>
                    <div class="mb-3 ms-3">
                        <div class="form-check checking">
                            <input class="form-check-input" type="checkbox" value="" id="redirectuser"
                                [(ngModel)]="screenRedirectUser" [ngModelOptions]="{standalone: true}"
                                (blur)="validateAddScreen('text')">
                            <label class="form-check-label" for="redirectuser">
                                Redirect User
                            </label>
                        </div>
                        <div *ngIf="!checkedrequired" class="text-danger">checked is required.</div>
                    </div>
                    <div class="mb-3">
                        <input type="text" class="form-control" placeholder="Redirect URL"
                            [(ngModel)]="screenRedirectURL" [ngModelOptions]="{standalone: true}"
                            (blur)="validateAddScreen('text');addHttpProtocolIfMissing()" />
                        <div *ngIf="!urlrequired" class="text-danger">URL is required.</div>
                    </div>
                    <div class="mb-3">
                        <button type="button" class="btn btn-primary btn-sm"
                            (click)="saveScreenImage('text')">Save</button>
                    </div>
                </div>

                <div class="tab-pane active" id="addImage" role="tabpanel" aria-labelledby="addImage-tab">
                    <h5 ngClass="mb-4">Add an Image</h5>
                    <div class="mb-3">
                        <div ngClass="d-flex align-items-center justify-content-between">
                            <h6>Please add image you want display before the next queston.</h6>
                        </div>
                    </div>
                    <div class="mb-3">
                        <input type="text" class="form-control" placeholder="Insert Heading for Image Screen"
                            [(ngModel)]="screenQuestion" [ngModelOptions]="{standalone: true}"
                            (blur)="validateAddScreen('image')" />
                        <div *ngIf="!headingrequired" class="text-danger">Heading is required.</div>
                    </div>
                    <div class="mb-3">
                        <ngx-dropzone (change)="onSelect($event)" [ngClass]="'drop-file'">
                            <ngx-dropzone-label>
                                <img [src]="baseUrl + '/assets/images/icons/attach-image.png'" />
                                <a href="javascript:"><u>Click to upload</u></a> <span> or drag and drop</span>
                                <p>Max. File Size: 15MB</p>
                            </ngx-dropzone-label>
                            <ngx-dropzone-preview *ngFor="let f of files" [removable]="true" (removed)="onRemove(f)">
                                <ngx-dropzone-label>{{ f.name }} ({{ f.type }})</ngx-dropzone-label>
                            </ngx-dropzone-preview>
                        </ngx-dropzone>
                    </div>
                    <div *ngIf="!descriptionrequired" class="text-danger">Image is required.</div>
                    <div class="mb-3 ms-3">
                        <div class="form-check checking">
                            <input class="form-check-input" type="checkbox" value="" id="redirectuser"
                                [(ngModel)]="screenRedirectUser" [ngModelOptions]="{standalone: true}"
                                (blur)="validateAddScreen('image')">
                            <label class="form-check-label" for="redirectuser">
                                Redirect User
                            </label>
                        </div>
                    </div>
                    <div *ngIf="!checkedrequired" class="text-danger">checked is required.</div>
                    <div class="mb-3">
                        <input type="text" class="form-control" placeholder="Redirect URL"
                            [(ngModel)]="screenRedirectURL" [ngModelOptions]="{standalone: true}"
                            (blur)="validateAddScreen('image');addHttpProtocolIfMissing()" />
                    </div>
                    <div *ngIf="!urlrequired" class="text-danger">URL is required.</div>
                    <div class="mb-3">
                        <button type="button" class="btn btn-primary btn-sm"
                            (click)="saveScreenImage('image')">Save</button>
                    </div>

                </div>
                <div class="tab-pane" id="addVideo" role="tabpanel" aria-labelledby="addVideo-tab">
                    <h5 ngClass="mb-4">Add Video</h5>
                    <div class="mb-3">
                        <div ngClass="d-flex align-items-center justify-content-between">
                            <h6>Please add video you want display before the next queston.</h6>
                        </div>
                    </div>
                    <div class="mb-3">
                        <input type="text" class="form-control" placeholder="Insert Heading for video Screen"
                            [(ngModel)]="screenQuestion" [ngModelOptions]="{standalone: true}"
                            (blur)="validateAddScreen('video')" />
                        <div *ngIf="!headingrequired" class="text-danger">Heading is required.</div>
                    </div>
                    <div class="mb-3">
                        <ngx-dropzone (change)="onSelectVideo($event)" [ngClass]="'drop-file'">
                            <ngx-dropzone-label>
                                <img [src]="baseUrl + '/assets/images/icons/attach-image.png'" />
                                <a href="javascript:"><u>Click to upload</u></a> <span> or drag and drop</span>
                                <p>Max. File Size: 15MB</p>
                            </ngx-dropzone-label>
                            <ngx-dropzone-preview *ngFor="let f of files" [removable]="true" (removed)="onRemove(f)">
                                <ngx-dropzone-label>{{ f.name }} ({{ f.type }})</ngx-dropzone-label>
                            </ngx-dropzone-preview>
                        </ngx-dropzone>
                    </div>
                    <div *ngIf="!descriptionrequired" class="text-danger">video is required.</div>
                    <div class="mb-3 ms-3">
                        <div class="form-check checking">
                            <input class="form-check-input" type="checkbox" value="" id="redirectuser"
                                [(ngModel)]="screenRedirectUser" [ngModelOptions]="{standalone: true}"
                                (blur)="validateAddScreen('video')">
                            <label class="form-check-label" for="redirectuser">
                                Redirect User
                            </label>
                        </div>
                    </div>
                    <div *ngIf="!checkedrequired" class="text-danger">checked is required.</div>
                    <div class="mb-3">
                        <input type="text" class="form-control" placeholder="Redirect URL"
                            [(ngModel)]="screenRedirectURL" [ngModelOptions]="{standalone: true}"
                            (blur)="validateAddScreen('video');addHttpProtocolIfMissing()" />
                    </div>
                    <div *ngIf="!urlrequired" class="text-danger">URL is required.</div>
                    <div class="mb-3">
                        <button type="button" class="btn btn-primary btn-sm"
                            (click)="saveScreenImage('video')">Save</button>
                    </div>

                </div>
                <div class="tab-pane" id="addiFrame" role="tabpanel" aria-labelledby="addiFrame-tab">
                    <h5 ngClass="mb-4">Add iFrame</h5>
                    <div class="mb-3">
                        <div ngClass="d-flex align-items-center justify-content-between">
                            <h6>Please add iFrame you want display before the next queston.</h6>
                        </div>
                    </div>
                    <div class="mb-3">
                        <input type="text" class="form-control" placeholder="Insert Heading for iFrame"
                            [(ngModel)]="screenQuestion" [ngModelOptions]="{standalone: true}"
                            (blur)="validateAddScreen('iframe')" />
                    </div>
                    <div *ngIf="!headingrequired" class="text-danger">Heading is required.</div>
                    <div class="mb-3">
                        <textarea type="text" class="form-control" rows="6" col="20" placeholder="Insert iFrame"
                            [(ngModel)]="youtubeUrl" [ngModelOptions]="{standalone: true}"
                            (blur)="validateAddScreen('iframe')"></textarea>
                    </div>
                    <div *ngIf="!iframerequired" class="text-danger">Iframe is required.</div>
                    <div class="mb-3">

                    </div>
                    <div class="mb-3 ms-3">
                        <div class="form-check checking">
                            <input class="form-check-input" type="checkbox" value="" id="redirectuser"
                                [(ngModel)]="screenRedirectUser" [ngModelOptions]="{standalone: true}"
                                (blur)="validateAddScreen('iframe')">
                            <label class="form-check-label" for="redirectuser">
                                Redirect User
                            </label>
                        </div>
                    </div>
                    <div *ngIf="!checkedrequired" class="text-danger">checked is required.</div>
                    <div class="mb-3">
                        <input type="text" class="form-control" placeholder="Redirect URL"
                            [(ngModel)]="screenRedirectURL" [ngModelOptions]="{standalone: true}"
                            (blur)="validateAddScreen('iframe');addHttpProtocolIfMissing()" />
                    </div>
                    <div *ngIf="!urlrequired" class="text-danger">URL is required.</div>
                    <div class="mb-3">
                        <button type="button" class="btn btn-primary btn-sm"
                            (click)="saveScreenImage('iframe')">Save</button>
                    </div>

                </div>
            </div>
        </div>
    </div>
</ng-template>

<app-gender-popup #GenderModal (onSaveEvent)="refresh()"></app-gender-popup>
<app-age-popup #AgeModal (onSaveEvent)="refresh()"></app-age-popup>
<app-nccs-popup #NccsModal (onSaveEvent)="refresh()"></app-nccs-popup>
<app-monthly-income-popup #MonthlyIncomeModal (onSaveEvent)="refresh()"></app-monthly-income-popup>
<app-household #HouseholdModal (onSaveEvent)="refresh()"></app-household>
<app-family-member-popup #FamilyMemberModal (onSaveEvent)="refresh()"></app-family-member-popup>
<app-no-of-child-popup #NumberOfChildModal (onSaveEvent)="refresh()"></app-no-of-child-popup>
<app-working-status-popup #WorkingStatusModal (onSaveEvent)="refresh()"></app-working-status-popup>
<app-city-popup #CityModal (onSaveEvent)="refresh()"></app-city-popup>
<app-age-of-children-popup #AgeOfChildrenModal (onSaveEvent)="refresh()"></app-age-of-children-popup>
<app-old-sec-popup #OldSecModal (onSaveEvent)="refresh()"></app-old-sec-popup>
<app-industry-popup #IndustryModal (onSaveEvent)="refresh()"></app-industry-popup>
<app-new-f-lsm-popup #NewFLsmModal (onSaveEvent)="refresh()"></app-new-f-lsm-popup>
<app-m-slm-popup #MSlmModal (onSaveEvent)="refresh()"></app-m-slm-popup>
<app-s-lsm-popup #SLsmModal (onSaveEvent)="refresh()"></app-s-lsm-popup>
<app-language-popup #LanguageModal (onSaveEvent)="refresh()"></app-language-popup>
<app-geo-location-popup #GeoLocationModal (onSaveEvent)="refresh()"></app-geo-location-popup>
<app-marital-status-new-popup #MartialStatusModal (onSaveEvent)="refresh()"></app-marital-status-new-popup>
<app-industry-respondant-popup #IndustryRespondantModal (onSaveEvent)="refresh()"></app-industry-respondant-popup>
<app-industry-household-popup #IndustryHouseholdModal (onSaveEvent)="refresh()"></app-industry-household-popup>
<app-locality-popup #LocalityModal (onSaveEvent)="refresh()"></app-locality-popup>
<app-foreign-country-travelled-popup #ForeignCountryTravelledModal
    (onSaveEvent)="refresh()"></app-foreign-country-travelled-popup>
<app-store-popup #StoreModal (onSaveEvent)="refresh()"></app-store-popup>
<app-language-you-know-popup #LanguageYouKnowModel (onSaveEvent)="refresh()"></app-language-you-know-popup>
<app-home-area-type-popup #HomeAreaTypeModal (onSaveEvent)="refresh()"></app-home-area-type-popup>
<app-kids-count-popup #KidsCountModal (onSaveEvent)="refresh()"></app-kids-count-popup>
<app-old-f-lsm-popup #OldFLsmModal (onSaveEvent)="refresh()"></app-old-f-lsm-popup>
<app-old-f-lsm-popup #OldFLsmModal (onSaveEvent)="refresh()"></app-old-f-lsm-popup>
<app-sec-bn-sl-popup #SecBnSlNpl (onSaveEvent)="refresh()"></app-sec-bn-sl-popup>
<app-selfie-popup #SelfieModal (onSaveEvent)="refresh()"></app-selfie-popup>
<app-accomodation-type-popup #AccomodationTypeModal (onSaveEvent)="refresh()"></app-accomodation-type-popup>
<app-home-accessories-popup #HomeAccessoriesModal (onSaveEvent)="refresh()"></app-home-accessories-popup>
<app-name-popup #NameModal (onSaveEvent)="refresh()"></app-name-popup>
<app-email-address-popup #EmailAddressModal (onSaveEvent)="refresh()"></app-email-address-popup>
<app-pin-code-popup #PinCodeModal (onSaveEvent)="refresh()"></app-pin-code-popup>
<app-audio-gender-detection-popup #AudioGenderDetectionModal
    (onSaveEvent)="refresh()"></app-audio-gender-detection-popup>
<app-state-popup #StateModal (onSaveEvent)="refresh()"></app-state-popup>
<app-sec-lsm-popup #SecLsmModal (onSaveEvent)="refresh()"></app-sec-lsm-popup>
<app-occupation-popup #OccupationModal (onSaveEvent)="refresh()"></app-occupation-popup>